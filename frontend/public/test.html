<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>缩略图测试</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .container { display: flex; flex-wrap: wrap; gap: 20px; }
        .item { border: 2px solid #333; padding: 10px; width: 200px; }
        .item img { width: 100%; height: 150px; object-fit: cover; border: 1px solid red; }
        .info { margin-top: 8px; font-size: 12px; word-break: break-all; }
    </style>
</head>
<body>
    <h1>缩略图测试页面</h1>
    <p>后端API: <strong>http://localhost:5000</strong></p>
    <div id="container" class="container"></div>

    <script>
        const images = [
            '233.png',
            '0225BD8800770A98E104DFE2CEB2790F.png',
            '02A3BB5ACE950540C98A718BFA2F1295.png'
        ];

        const container = document.getElementById('container');

        images.forEach(filename => {
            const item = document.createElement('div');
            item.className = 'item';

            const img = document.createElement('img');
            const url = `http://localhost:5000/api/thumbnails/${encodeURIComponent(filename)}`;
            img.src = url;
            img.alt = filename;

            const info = document.createElement('div');
            info.className = 'info';
            info.innerHTML = `<strong>${filename}</strong><br>URL: ${url}`;

            img.onload = () => {
                console.log('✅ 加载成功:', filename);
                info.innerHTML += '<br><span style="color:green;">✓ 加载成功</span>';
            };

            img.onerror = (e) => {
                console.error('❌ 加载失败:', filename, e);
                info.innerHTML += '<br><span style="color:red;">✗ 加载失败</span>';
            };

            item.appendChild(img);
            item.appendChild(info);
            container.appendChild(item);
        });
    </script>
</body>
</html>
